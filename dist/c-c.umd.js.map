{"version":3,"file":"c-c.umd.js","sources":["../index.js"],"sourcesContent":["let stylesheet;\nlet ssr = '';\n\nexport function c(rules) {\n    const { className, css } = parse({ obj: rules });\n\n    if (typeof document !== 'undefined' && css) {\n        if (!stylesheet) {\n            stylesheet = document.createElement('style');\n\n            document.body.appendChild(stylesheet);\n        }\n\n        // @see: https://stackoverflow.com/a/28930990\n        stylesheet.appendChild(document.createTextNode(css));\n    }\n\n    if (typeof document === 'undefined' && css) {\n        ssr = ssr + css;\n    }\n\n    return className;\n}\n\nexport function extractCss() {\n    return ssr;\n}\n\n// @see https://github.com/jxnblk/object-style/blob/v1.0.3/src/index.js\nfunction parse({ obj, children = '', atRule }) {\n    const rules = [];\n    const classNames = [];\n\n    for (const key in obj) {\n        const value = obj[key];\n\n        if (value === null || value === undefined) continue;\n        // at-rule\n        if (/^@/.test(key)) {\n            const { className, css } = parse({\n                obj: value,\n                children: children,\n                atRule: key\n            });\n\n            className && classNames.push(className);\n            css && rules.push(css);\n        }\n        // object not at-rule\n        if (typeof value === 'object' && !/^@/.test(key)) {\n            const { className, css } = parse({\n                obj: value,\n                children: (children + key).replace(' ', ''),\n                atRule: atRule\n            });\n\n            className && classNames.push(className);\n            css && rules.push(css);\n        }\n        // declaration\n        if (/string|number/.test(typeof value)) {\n            const id = key + value + children + (atRule || '');\n\n            // @see https://github.com/cristianbote/goober/blob/v1/src/core/to-hash.js#L10\n            const className =\n                'c' + id.split('').reduce((out, i) => (101 * out + i.charCodeAt(0)) >>> 0, 11);\n            const hasClass = stylesheet && stylesheet.innerHTML.indexOf(className) >= 0;\n\n            classNames.push(className);\n            !hasClass && rules.push(createRule(className, key, value, children, atRule));\n        }\n    }\n\n    return {\n        className: classNames.join(' '),\n        css: rules.join('')\n    };\n}\n\nfunction createRule(className, key, value, children, atRule) {\n    const selector = '.' + className + children;\n    const rule =\n        selector + '{' + key.replace(/[A-Z]|^ms/g, '-$&').toLowerCase() + ':' + value + '}';\n\n    if (!atRule) return rule;\n\n    return atRule + '{' + rule + '}';\n}\n"],"names":["stylesheet","ssr","createRule","className","key","value","children","atRule","rule","replace","toLowerCase","rules","parse","obj","classNames","test","css","push","split","reduce","out","i","charCodeAt","hasClass","innerHTML","indexOf","join","document","createElement","body","appendChild","createTextNode"],"mappings":"kLAAA,IAAIA,EACAC,EAAM,GA8EV,SAASC,EAAWC,EAAWC,EAAKC,EAAOC,EAAUC,GACjD,IACMC,EADW,IAAML,EAAYG,EAEpB,IAAMF,EAAIK,QAAQ,aAAc,OAAOC,cAAgB,IAAML,EAAQ,IAEpF,OAAKE,EAEEA,EAAS,IAAMC,EAAO,IAFTA,eAjFNG,SA0BlB,SAASC,SAAQC,IAAAA,QAAKP,SAAAA,aAAW,KAAIC,IAAAA,OAC3BI,EAAQ,GACRG,EAAa,GAEnB,IAAK,IAAMV,KAAOS,EAAK,CACnB,IAAMR,EAAQQ,EAAIT,GAElB,GAAIC,MAAAA,EAAJ,CAEA,GAAI,KAAKU,KAAKX,GAAM,OACWQ,EAAM,CAC7BC,IAAKR,EACLC,SAAUA,EACVC,OAAQH,IAHJD,IAAAA,UAAWa,IAAAA,IAMnBb,GAAaW,EAAWG,KAAKd,GAC7Ba,GAAOL,EAAMM,KAAKD,GAGtB,GAAqB,iBAAVX,IAAuB,KAAKU,KAAKX,GAAM,OACnBQ,EAAM,CAC7BC,IAAKR,EACLC,UAAWA,EAAWF,GAAKK,QAAQ,IAAK,IACxCF,OAAQA,IAHJJ,IAAAA,UAAWa,IAAAA,IAMnBb,GAAaW,EAAWG,KAAKd,GAC7Ba,GAAOL,EAAMM,KAAKD,GAGtB,GAAI,gBAAgBD,YAAYV,GAAQ,CACpC,IAGMF,EACF,KAJOC,EAAMC,EAAQC,GAAYC,GAAU,KAIlCW,MAAM,IAAIC,OAAO,SAACC,EAAKC,cAAaD,EAAMC,EAAEC,WAAW,KAAQ,GAAG,IACzEC,EAAWvB,GAAcA,EAAWwB,UAAUC,QAAQtB,IAAc,EAE1EW,EAAWG,KAAKd,IACfoB,GAAYZ,EAAMM,KAAKf,EAAWC,EAAWC,EAAKC,EAAOC,EAAUC,MAI5E,MAAO,CACHJ,UAAWW,EAAWY,KAAK,KAC3BV,IAAKL,EAAMe,KAAK,KAvEOd,CAAM,CAAEC,IAAKF,IAAhCR,IAAAA,UAAWa,IAAAA,IAiBnB,MAfwB,oBAAbW,UAA4BX,IAC9BhB,IACDA,EAAa2B,SAASC,cAAc,SAEpCD,SAASE,KAAKC,YAAY9B,IAI9BA,EAAW8B,YAAYH,SAASI,eAAef,KAG3B,oBAAbW,UAA4BX,IACnCf,GAAYe,GAGTb,2BAIP,OAAOF"}